name: "IOS Test"
description: "Sets up Flutter and installs dependencies."
runs:
  using: "composite"
  steps:
    - name: Install Simulator
      id: simulator
      uses: futureware-tech/simulator-action@v4
      with:
        model: "iPhone 16"
        wait_for_boot: true

    - name: Run Integration Tests
      working-directory: example
      shell: bash
      run: |
        flutter test ./integration_test/original_package_test.dart -d ${{ steps.simulator.outputs.udid }};
        flutter test ./integration_test/path_provider_foundation_test.dart -d ${{ steps.simulator.outputs.udid }};
